<div class="row">
  <form #form="ngForm" (submit)="onSubmit(form)" novalidate>
    <div class="mb-3 col-2">
      <label>From Date</label>
      <input type="date" class="form-control form-control-lg" placeholder="YYYY-MM-DD" name="fromDate"
        #fromDate="ngModel" [(ngModel)]="fromDate" required>
    </div>
    <div class="mb-3 col-2">
      <label>To Date</label>
      <input type="date" class="form-control form-control-lg" placeholder="YYYY-MM-DD" name="toDate" #toDate="ngModel"
        [(ngModel)]="toDate" required>
    </div>
    <div class="d-grid col-2">
      <button class="btn btn-md btn-success" type="submit">
        Submit
      </button>
    </div>
  </form>
</div>

<div class="card-body" [ngStyle]="{'visibility': showCalculation ? 'visible' : 'hidden'}">
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Income Amount</th>
        <th scope="col">Expense Amount</th>
        <th scope="col">Balance</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td [ngStyle]="{'--bs-table-color': '#0ae50a'}">{{transactionService.totalIncome}}{{userService.newUser.Symbol}}
        </td>
        <td [ngStyle]="{'--bs-table-color': 'red'}">{{transactionService.totalexpens}}{{userService.newUser.Symbol}}
        </td>
        <td [ngStyle]="{'--bs-table-color': transactionService.balanceAmount < 0 ? 'red' : '#0ae50a'}">
          {{transactionService.balanceAmount}}{{userService.newUser.Symbol}}</td>
      </tr>
    </tbody>
  </table>
</div>
<div class="card-body" [ngStyle]="{'visibility': showCalculation ? 'visible' : 'hidden'}">
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Type</th>
        <th scope="col">Amount</th>
        <th scope="col">Category</th>
        <th scope="col">Date</th>
        <th scope="col">PaymentMethod</th>
        <th scope="col">Source</th>
        <th scope="col">Description</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pd of transactionService.filterList"
        [ngStyle]="{'--bs-table-color': pd.Type === 'Expense' ? 'red' : '#0ae50a'}">
        <td>{{pd.Type}}</td>
        <td>{{pd.Amount}}{{transactionService.userService.newUser.Symbol}}</td>
        <td>{{pd.Category}}</td>
        <td>{{pd.Date | date:"M/d/yyyy"}}</td>
        <td>{{pd.PaymentMethod}}</td>
        <td>{{pd.Source}}</td>
        <td>{{pd.Description}}</td>
      </tr>
    </tbody>
  </table>
</div>
